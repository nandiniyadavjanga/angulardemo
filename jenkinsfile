pipeline { 
    agent {
    docker {
      image 'node:10-alpine'
      args '-p 20001-20100:3000'
    }
  }
  environment {
    CI = 'true'
    HOME = '.'
    npm_config_cache = 'npm-cache'
  }
    stages {
        stage ('Checkout') {
            steps {
                sh 'git checkout master'
            }
        }
        stage ('install') {
            steps {
                sh 'npm install'
            }
        }
        stage ('build') {
            steps {
                sh 'ng build'
            }
        }
    }
}
